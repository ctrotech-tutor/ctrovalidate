<!doctype html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Creating Custom Rules | Ctrovalidate</title>
    <meta
      name="description"
      content="A lightweight, powerful, and zero-dependency JavaScript library for client-side form validation."
    />
    <meta name="generator" content="VitePress v1.6.4" />
    <link
      rel="preload stylesheet"
      href="/ctrovalidate/assets/style.UBa6HfFz.css"
      as="style"
    />
    <link
      rel="preload stylesheet"
      href="/ctrovalidate/vp-icons.css"
      as="style"
    />

    <script type="module" src="/ctrovalidate/assets/app.7JFxrA1X.js"></script>
    <link
      rel="preload"
      href="/ctrovalidate/assets/inter-roman-latin.Di8DUHzh.woff2"
      as="font"
      type="font/woff2"
      crossorigin=""
    />
    <link
      rel="modulepreload"
      href="/ctrovalidate/assets/chunks/theme.BuOjzYIe.js"
    />
    <link
      rel="modulepreload"
      href="/ctrovalidate/assets/chunks/framework.BMU9rCtY.js"
    />
    <link
      rel="modulepreload"
      href="/ctrovalidate/assets/2.0_guide_custom-rules.md.B0tejnan.lean.js"
    />
    <script id="check-dark-mode">
      (() => {
        const e = localStorage.getItem('vitepress-theme-appearance') || 'auto',
          a = window.matchMedia('(prefers-color-scheme: dark)').matches;
        (!e || e === 'auto' ? a : e === 'dark') &&
          document.documentElement.classList.add('dark');
      })();
    </script>
    <script id="check-mac-os">
      document.documentElement.classList.toggle(
        'mac',
        /Mac|iPhone|iPod|iPad/i.test(navigator.platform)
      );
    </script>
  </head>
  <body>
    <div id="app">
      <div class="Layout" data-v-5d98c3a5>
        <!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span
        ><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53
          >Skip to content</a
        ><!--]--><!---->
        <header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad>
          <div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345>
            <div class="wrapper" data-v-6aa21345>
              <div class="container" data-v-6aa21345>
                <div class="title" data-v-6aa21345>
                  <div
                    class="VPNavBarTitle has-sidebar"
                    data-v-6aa21345
                    data-v-1168a8e4
                  >
                    <a class="title" href="/ctrovalidate/" data-v-1168a8e4
                      ><!--[--><!--]--><!--[--><img
                        class="VPImage logo"
                        src="/ctrovalidate/logo.svg"
                        alt
                        data-v-8426fc1a
                      /><!--]--><span data-v-1168a8e4>Ctrovalidate</span
                      ><!--[--><!--]--></a
                    >
                  </div>
                </div>
                <div class="content" data-v-6aa21345>
                  <div class="content-body" data-v-6aa21345>
                    <!--[--><!--]-->
                    <div class="VPNavBarSearch search" data-v-6aa21345>
                      <!---->
                    </div>
                    <nav
                      aria-labelledby="main-nav-aria-label"
                      class="VPNavBarMenu menu"
                      data-v-6aa21345
                      data-v-dc692963
                    >
                      <span
                        id="main-nav-aria-label"
                        class="visually-hidden"
                        data-v-dc692963
                      >
                        Main Navigation </span
                      ><!--[--><!--[--><a
                        class="VPLink link VPNavBarMenuLink"
                        href="/ctrovalidate/2.0/guide/getting-started.html"
                        tabindex="0"
                        data-v-dc692963
                        data-v-e56f3d57
                        ><!--[--><span data-v-e56f3d57>Guide</span
                        ><!--]--></a
                      ><!--]--><!--[--><a
                        class="VPLink link VPNavBarMenuLink"
                        href="/ctrovalidate/2.0/api/methods.html"
                        tabindex="0"
                        data-v-dc692963
                        data-v-e56f3d57
                        ><!--[--><span data-v-e56f3d57>API</span
                        ><!--]--></a
                      ><!--]--><!--[-->
                      <div
                        class="VPFlyout VPNavBarMenuGroup"
                        data-v-dc692963
                        data-v-cf11d7a2
                      >
                        <button
                          type="button"
                          class="button"
                          aria-haspopup="true"
                          aria-expanded="false"
                          data-v-cf11d7a2
                        >
                          <span class="text" data-v-cf11d7a2
                            ><!----><span data-v-cf11d7a2>v2.0.0 (Latest)</span
                            ><span
                              class="vpi-chevron-down text-icon"
                              data-v-cf11d7a2
                            ></span
                          ></span>
                        </button>
                        <div class="menu" data-v-cf11d7a2>
                          <div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113>
                            <div class="items" data-v-b98bc113>
                              <!--[--><!--[-->
                              <div
                                class="VPMenuLink"
                                data-v-b98bc113
                                data-v-35975db6
                              >
                                <a
                                  class="VPLink link vp-external-link-icon"
                                  href="https://github.com/ctrotech-tutor/ctrovalidate/blob/main/CHANGELOG.md"
                                  target="_blank"
                                  rel="noreferrer"
                                  data-v-35975db6
                                  ><!--[--><span data-v-35975db6>Changelog</span
                                  ><!--]--></a
                                >
                              </div>
                              <!--]--><!--[-->
                              <div
                                class="VPMenuLink"
                                data-v-b98bc113
                                data-v-35975db6
                              >
                                <a
                                  class="VPLink link vp-external-link-icon"
                                  href="https://github.com/ctrotech-tutor/ctrovalidate/releases"
                                  target="_blank"
                                  rel="noreferrer"
                                  data-v-35975db6
                                  ><!--[--><span data-v-35975db6>Releases</span
                                  ><!--]--></a
                                >
                              </div>
                              <!--]--><!--]-->
                            </div>
                            <!--[--><!--]-->
                          </div>
                        </div>
                      </div>
                      <!--]--><!--]-->
                    </nav>
                    <!---->
                    <div
                      class="VPNavBarAppearance appearance"
                      data-v-6aa21345
                      data-v-6c893767
                    >
                      <button
                        class="VPSwitch VPSwitchAppearance"
                        type="button"
                        role="switch"
                        title
                        aria-checked="false"
                        data-v-6c893767
                        data-v-5337faa4
                        data-v-1d5665e3
                      >
                        <span class="check" data-v-1d5665e3
                          ><span class="icon" data-v-1d5665e3
                            ><!--[--><span
                              class="vpi-sun sun"
                              data-v-5337faa4
                            ></span
                            ><span class="vpi-moon moon" data-v-5337faa4></span
                            ><!--]--></span
                          ></span
                        >
                      </button>
                    </div>
                    <div
                      class="VPSocialLinks VPNavBarSocialLinks social-links"
                      data-v-6aa21345
                      data-v-0394ad82
                      data-v-7bc22406
                    >
                      <!--[--><a
                        class="VPSocialLink no-icon"
                        href="https://github.com/ctrotech-tutor/ctrovalidate"
                        aria-label="github"
                        target="_blank"
                        rel="noopener"
                        data-v-7bc22406
                        data-v-bd121fe5
                        ><span class="vpi-social-github"></span></a
                      ><!--]-->
                    </div>
                    <div
                      class="VPFlyout VPNavBarExtra extra"
                      data-v-6aa21345
                      data-v-bb2aa2f0
                      data-v-cf11d7a2
                    >
                      <button
                        type="button"
                        class="button"
                        aria-haspopup="true"
                        aria-expanded="false"
                        aria-label="extra navigation"
                        data-v-cf11d7a2
                      >
                        <span
                          class="vpi-more-horizontal icon"
                          data-v-cf11d7a2
                        ></span>
                      </button>
                      <div class="menu" data-v-cf11d7a2>
                        <div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113>
                          <!----><!--[--><!--[--><!---->
                          <div class="group" data-v-bb2aa2f0>
                            <div class="item appearance" data-v-bb2aa2f0>
                              <p class="label" data-v-bb2aa2f0>Appearance</p>
                              <div class="appearance-action" data-v-bb2aa2f0>
                                <button
                                  class="VPSwitch VPSwitchAppearance"
                                  type="button"
                                  role="switch"
                                  title
                                  aria-checked="false"
                                  data-v-bb2aa2f0
                                  data-v-5337faa4
                                  data-v-1d5665e3
                                >
                                  <span class="check" data-v-1d5665e3
                                    ><span class="icon" data-v-1d5665e3
                                      ><!--[--><span
                                        class="vpi-sun sun"
                                        data-v-5337faa4
                                      ></span
                                      ><span
                                        class="vpi-moon moon"
                                        data-v-5337faa4
                                      ></span
                                      ><!--]--></span
                                    ></span
                                  >
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="group" data-v-bb2aa2f0>
                            <div class="item social-links" data-v-bb2aa2f0>
                              <div
                                class="VPSocialLinks social-links-list"
                                data-v-bb2aa2f0
                                data-v-7bc22406
                              >
                                <!--[--><a
                                  class="VPSocialLink no-icon"
                                  href="https://github.com/ctrotech-tutor/ctrovalidate"
                                  aria-label="github"
                                  target="_blank"
                                  rel="noopener"
                                  data-v-7bc22406
                                  data-v-bd121fe5
                                  ><span class="vpi-social-github"></span></a
                                ><!--]-->
                              </div>
                            </div>
                          </div>
                          <!--]--><!--]-->
                        </div>
                      </div>
                    </div>
                    <!--[--><!--]--><button
                      type="button"
                      class="VPNavBarHamburger hamburger"
                      aria-label="mobile navigation"
                      aria-expanded="false"
                      aria-controls="VPNavScreen"
                      data-v-6aa21345
                      data-v-e5dd9c1c
                    >
                      <span class="container" data-v-e5dd9c1c
                        ><span class="top" data-v-e5dd9c1c></span
                        ><span class="middle" data-v-e5dd9c1c></span
                        ><span class="bottom" data-v-e5dd9c1c></span
                      ></span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="divider" data-v-6aa21345>
              <div class="divider-line" data-v-6aa21345></div>
            </div>
          </div>
          <!---->
        </header>
        <div
          class="VPLocalNav has-sidebar empty"
          data-v-5d98c3a5
          data-v-a6f0e41e
        >
          <div class="container" data-v-a6f0e41e>
            <button
              class="menu"
              aria-expanded="false"
              aria-controls="VPSidebarNav"
              data-v-a6f0e41e
            >
              <span class="vpi-align-left menu-icon" data-v-a6f0e41e></span
              ><span class="menu-text" data-v-a6f0e41e>Menu</span>
            </button>
            <div
              class="VPLocalNavOutlineDropdown"
              style="--vp-vh: 0px"
              data-v-a6f0e41e
              data-v-8a42e2b4
            >
              <button data-v-8a42e2b4>Return to top</button
              ><!---->
            </div>
          </div>
        </div>
        <aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6>
          <div class="curtain" data-v-319d5ca6></div>
          <nav
            class="nav"
            id="VPSidebarNav"
            aria-labelledby="sidebar-aria-label"
            tabindex="-1"
            data-v-319d5ca6
          >
            <span
              class="visually-hidden"
              id="sidebar-aria-label"
              data-v-319d5ca6
            >
              Sidebar Navigation </span
            ><!--[--><!--]--><!--[-->
            <div class="no-transition group" data-v-c40bc020>
              <section
                class="VPSidebarItem level-0"
                data-v-c40bc020
                data-v-b3fd67f8
              >
                <div class="item" role="button" tabindex="0" data-v-b3fd67f8>
                  <div class="indicator" data-v-b3fd67f8></div>
                  <h2 class="text" data-v-b3fd67f8>Introduction</h2>
                  <!---->
                </div>
                <div class="items" data-v-b3fd67f8>
                  <!--[-->
                  <div
                    class="VPSidebarItem level-1 is-link"
                    data-v-b3fd67f8
                    data-v-b3fd67f8
                  >
                    <div class="item" data-v-b3fd67f8>
                      <div class="indicator" data-v-b3fd67f8></div>
                      <a
                        class="VPLink link link"
                        href="/ctrovalidate/2.0/guide/introduction.html"
                        data-v-b3fd67f8
                        ><!--[-->
                        <p class="text" data-v-b3fd67f8>
                          What is Ctrovalidate?
                        </p>
                        <!--]--></a
                      ><!---->
                    </div>
                    <!---->
                  </div>
                  <div
                    class="VPSidebarItem level-1 is-link"
                    data-v-b3fd67f8
                    data-v-b3fd67f8
                  >
                    <div class="item" data-v-b3fd67f8>
                      <div class="indicator" data-v-b3fd67f8></div>
                      <a
                        class="VPLink link link"
                        href="/ctrovalidate/2.0/guide/getting-started.html"
                        data-v-b3fd67f8
                        ><!--[-->
                        <p class="text" data-v-b3fd67f8>Getting Started</p>
                        <!--]--></a
                      ><!---->
                    </div>
                    <!---->
                  </div>
                  <!--]-->
                </div>
              </section>
            </div>
            <div class="no-transition group" data-v-c40bc020>
              <section
                class="VPSidebarItem level-0"
                data-v-c40bc020
                data-v-b3fd67f8
              >
                <div class="item" role="button" tabindex="0" data-v-b3fd67f8>
                  <div class="indicator" data-v-b3fd67f8></div>
                  <h2 class="text" data-v-b3fd67f8>Core Concepts</h2>
                  <!---->
                </div>
                <div class="items" data-v-b3fd67f8>
                  <!--[-->
                  <div
                    class="VPSidebarItem level-1 is-link"
                    data-v-b3fd67f8
                    data-v-b3fd67f8
                  >
                    <div class="item" data-v-b3fd67f8>
                      <div class="indicator" data-v-b3fd67f8></div>
                      <a
                        class="VPLink link link"
                        href="/ctrovalidate/2.0/guide/configuration.html"
                        data-v-b3fd67f8
                        ><!--[-->
                        <p class="text" data-v-b3fd67f8>
                          Configuration Options
                        </p>
                        <!--]--></a
                      ><!---->
                    </div>
                    <!---->
                  </div>
                  <div
                    class="VPSidebarItem level-1 is-link"
                    data-v-b3fd67f8
                    data-v-b3fd67f8
                  >
                    <div class="item" data-v-b3fd67f8>
                      <div class="indicator" data-v-b3fd67f8></div>
                      <a
                        class="VPLink link link"
                        href="/ctrovalidate/2.0/guide/rules.html"
                        data-v-b3fd67f8
                        ><!--[-->
                        <p class="text" data-v-b3fd67f8>Built-in Rules</p>
                        <!--]--></a
                      ><!---->
                    </div>
                    <!---->
                  </div>
                  <div
                    class="VPSidebarItem level-1 is-link"
                    data-v-b3fd67f8
                    data-v-b3fd67f8
                  >
                    <div class="item" data-v-b3fd67f8>
                      <div class="indicator" data-v-b3fd67f8></div>
                      <a
                        class="VPLink link link"
                        href="/ctrovalidate/2.0/guide/conditional-validation.html"
                        data-v-b3fd67f8
                        ><!--[-->
                        <p class="text" data-v-b3fd67f8>
                          Conditional Validation
                        </p>
                        <!--]--></a
                      ><!---->
                    </div>
                    <!---->
                  </div>
                  <div
                    class="VPSidebarItem level-1 is-link"
                    data-v-b3fd67f8
                    data-v-b3fd67f8
                  >
                    <div class="item" data-v-b3fd67f8>
                      <div class="indicator" data-v-b3fd67f8></div>
                      <a
                        class="VPLink link link"
                        href="/ctrovalidate/2.0/guide/spa-dynamic-fields.html"
                        data-v-b3fd67f8
                        ><!--[-->
                        <p class="text" data-v-b3fd67f8>Working with SPAs</p>
                        <!--]--></a
                      ><!---->
                    </div>
                    <!---->
                  </div>
                  <!--]-->
                </div>
              </section>
            </div>
            <div class="no-transition group" data-v-c40bc020>
              <section
                class="VPSidebarItem level-0 has-active"
                data-v-c40bc020
                data-v-b3fd67f8
              >
                <div class="item" role="button" tabindex="0" data-v-b3fd67f8>
                  <div class="indicator" data-v-b3fd67f8></div>
                  <h2 class="text" data-v-b3fd67f8>Advanced</h2>
                  <!---->
                </div>
                <div class="items" data-v-b3fd67f8>
                  <!--[-->
                  <div
                    class="VPSidebarItem level-1 is-link"
                    data-v-b3fd67f8
                    data-v-b3fd67f8
                  >
                    <div class="item" data-v-b3fd67f8>
                      <div class="indicator" data-v-b3fd67f8></div>
                      <a
                        class="VPLink link link"
                        href="/ctrovalidate/2.0/guide/custom-rules.html"
                        data-v-b3fd67f8
                        ><!--[-->
                        <p class="text" data-v-b3fd67f8>
                          Creating Custom Rules
                        </p>
                        <!--]--></a
                      ><!---->
                    </div>
                    <!---->
                  </div>
                  <!--]-->
                </div>
              </section>
            </div>
            <!--]--><!--[--><!--]-->
          </nav>
        </aside>
        <div
          class="VPContent has-sidebar"
          id="VPContent"
          data-v-5d98c3a5
          data-v-1428d186
        >
          <div
            class="VPDoc has-sidebar has-aside"
            data-v-1428d186
            data-v-39a288b8
          >
            <!--[--><!--]-->
            <div class="container" data-v-39a288b8>
              <div class="aside" data-v-39a288b8>
                <div class="aside-curtain" data-v-39a288b8></div>
                <div class="aside-container" data-v-39a288b8>
                  <div class="aside-content" data-v-39a288b8>
                    <div class="VPDocAside" data-v-39a288b8 data-v-3f215769>
                      <!--[--><!--]--><!--[--><!--]-->
                      <nav
                        aria-labelledby="doc-outline-aria-label"
                        class="VPDocAsideOutline"
                        data-v-3f215769
                        data-v-a5bbad30
                      >
                        <div class="content" data-v-a5bbad30>
                          <div class="outline-marker" data-v-a5bbad30></div>
                          <div
                            aria-level="2"
                            class="outline-title"
                            id="doc-outline-aria-label"
                            role="heading"
                            data-v-a5bbad30
                          >
                            On this page
                          </div>
                          <ul
                            class="VPDocOutlineItem root"
                            data-v-a5bbad30
                            data-v-b933a997
                          >
                            <!--[--><!--]-->
                          </ul>
                        </div>
                      </nav>
                      <!--[--><!--]-->
                      <div class="spacer" data-v-3f215769></div>
                      <!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]-->
                    </div>
                  </div>
                </div>
              </div>
              <div class="content" data-v-39a288b8>
                <div class="content-container" data-v-39a288b8>
                  <!--[--><!--]-->
                  <main class="main" data-v-39a288b8>
                    <div
                      style="position: relative"
                      class="vp-doc _ctrovalidate_2_0_guide_custom-rules"
                      data-v-39a288b8
                    >
                      <div>
                        <h1 id="creating-custom-rules" tabindex="-1">
                          Creating Custom Rules
                          <a
                            class="header-anchor"
                            href="#creating-custom-rules"
                            aria-label='Permalink to "Creating Custom Rules"'
                            >​</a
                          >
                        </h1>
                        <p>
                          While Ctrovalidate provides a comprehensive set of
                          built-in rules, you will often have validation needs
                          specific to your application. Ctrovalidate&#39;s API
                          makes it easy to add your own custom rules, both
                          synchronous and asynchronous.
                        </p>
                        <p>
                          Custom rules are added globally using static methods
                          on the <code>Ctrovalidate</code> class. It&#39;s best
                          practice to define your custom rules once, before you
                          initialize any validator instances.
                        </p>
                        <h2 id="ctrovalidate-addrule-synchronous" tabindex="-1">
                          <code>Ctrovalidate.addRule()</code> (Synchronous)
                          <a
                            class="header-anchor"
                            href="#ctrovalidate-addrule-synchronous"
                            aria-label='Permalink to "`Ctrovalidate.addRule()` (Synchronous)"'
                            >​</a
                          >
                        </h2>
                        <p>
                          Use this method for rules that can be validated
                          instantly without any delay.
                        </p>
                        <p>The method takes three arguments:</p>
                        <ol>
                          <li>
                            <code>name</code> (string): The name of your rule,
                            which you will use in the
                            <code>data-ctrovalidate-rules</code> attribute.
                          </li>
                          <li>
                            <code>logic</code> (function): The function that
                            performs the validation.
                          </li>
                          <li>
                            <code>message</code> (string): The default error
                            message to display if the rule fails.
                          </li>
                        </ol>
                        <h3 id="the-logic-function" tabindex="-1">
                          The Logic Function
                          <a
                            class="header-anchor"
                            href="#the-logic-function"
                            aria-label='Permalink to "The Logic Function"'
                            >​</a
                          >
                        </h3>
                        <p>Your logic function will receive three arguments:</p>
                        <ul>
                          <li>
                            <code>value</code>: The current value of the field
                            being validated.
                          </li>
                          <li>
                            <code>params</code>: An array of strings containing
                            any parameters passed to your rule (e.g., for a rule
                            <code>myRule:foo,bar</code>,
                            <code>params</code> would be
                            <code>[&#39;foo&#39;, &#39;bar&#39;]</code>).
                          </li>
                          <li><code>field</code>: The HTML element itself.</li>
                        </ul>
                        <p>
                          The function must return <code>true</code> if the
                          validation passes and <code>false</code> if it fails.
                        </p>
                        <h3 id="example-ispositive" tabindex="-1">
                          Example: <code>isPositive</code>
                          <a
                            class="header-anchor"
                            href="#example-ispositive"
                            aria-label='Permalink to "Example: `isPositive`"'
                            >​</a
                          >
                        </h3>
                        <p>
                          Let&#39;s create a simple rule to check if a number is
                          greater than zero.
                        </p>
                        <div class="language-javascript vp-adaptive-theme">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">javascript</span>
                          <pre
                            class="shiki shiki-themes github-light github-dark vp-code"
                            tabindex="0"
                          ><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Ctrovalidate } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ctrovalidate&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Define the custom rule before initializing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Ctrovalidate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addRule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	&#39;isPositive&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		// Don&#39;t fail on empty values; use &#39;required&#39; for that.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	},</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	&#39;The value must be a positive number.&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Now you can use it in your HTML</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &lt;input type=&quot;number&quot; data-ctrovalidate-rules=&quot;required|numeric|isPositive&quot;&gt;</span></span></code></pre>
                        </div>
                        <h2
                          id="ctrovalidate-addasyncrule-asynchronous"
                          tabindex="-1"
                        >
                          <code>Ctrovalidate.addAsyncRule()</code>
                          (Asynchronous)
                          <a
                            class="header-anchor"
                            href="#ctrovalidate-addasyncrule-asynchronous"
                            aria-label='Permalink to "`Ctrovalidate.addAsyncRule()` (Asynchronous)"'
                            >​</a
                          >
                        </h2>
                        <p>
                          Use this method for rules that require a delay, such
                          as making an API call to a server.
                        </p>
                        <p>
                          The arguments are the same as <code>addRule</code>,
                          but the logic function is slightly different.
                        </p>
                        <h3 id="the-async-logic-function" tabindex="-1">
                          The Async Logic Function
                          <a
                            class="header-anchor"
                            href="#the-async-logic-function"
                            aria-label='Permalink to "The Async Logic Function"'
                            >​</a
                          >
                        </h3>
                        <p>
                          Your async logic function will receive
                          <strong>four</strong> arguments:
                        </p>
                        <ul>
                          <li>
                            <code>value</code>, <code>params</code>,
                            <code>field</code>: Same as the synchronous version.
                          </li>
                          <li>
                            <code>signal</code>: An
                            <code>AbortSignal</code> object. This is crucial for
                            handling race conditions. If the user types again
                            while a request is in flight, Ctrovalidate will
                            abort the previous signal. You should pass this
                            signal to your <code>fetch</code> call or other
                            async operation.
                          </li>
                        </ul>
                        <p>
                          The function must return a <code>Promise</code> that
                          resolves to <code>true</code> if validation passes and
                          <code>false</code> if it fails.
                        </p>
                        <h3 id="example-usernameavailable" tabindex="-1">
                          Example: <code>usernameAvailable</code>
                          <a
                            class="header-anchor"
                            href="#example-usernameavailable"
                            aria-label='Permalink to "Example: `usernameAvailable`"'
                            >​</a
                          >
                        </h3>
                        <p>
                          Let&#39;s create a classic async rule that checks if a
                          username is already taken by querying a fake API.
                        </p>
                        <div class="language-javascript vp-adaptive-theme">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">javascript</span>
                          <pre
                            class="shiki shiki-themes github-light github-dark vp-code"
                            tabindex="0"
                          ><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Ctrovalidate } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ctrovalidate&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Define the custom async rule</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Ctrovalidate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addAsyncRule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	&#39;usernameAvailable&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">signal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		// Don&#39;t run the check on an empty value</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			// Simulate an API call</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`https://api.example.com/check-username?username=${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">				signal </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Pass the abort signal to fetch</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (response.status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 404</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">				// Username is available</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">				return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">				// Username is taken</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">				return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;AbortError&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">				// This is expected if the user types again.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">				// Ctrovalidate handles this, so we can consider it a &quot;pass&quot; for this aborted attempt.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">				console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Previous username check aborted.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">				return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			// Handle other network errors</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Network error during username check.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Or decide how to handle network failures</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	},</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	&#39;This username is already taken.&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Now you can use it in your HTML</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &lt;input type=&quot;text&quot; data-ctrovalidate-rules=&quot;required|alphaDash|usernameAvailable&quot;&gt;</span></span></code></pre>
                        </div>
                        <p>
                          While the async rule is running, Ctrovalidate will
                          automatically add the
                          <code>pendingClass</code> (default:
                          <code>is-validating</code>) to the input field,
                          allowing you to show a loading spinner.
                        </p>
                      </div>
                    </div>
                  </main>
                  <footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d>
                    <!--[--><!--]--><!---->
                    <nav
                      class="prev-next"
                      aria-labelledby="doc-footer-aria-label"
                      data-v-e257564d
                    >
                      <span
                        class="visually-hidden"
                        id="doc-footer-aria-label"
                        data-v-e257564d
                        >Pager</span
                      >
                      <div class="pager" data-v-e257564d>
                        <a
                          class="VPLink link pager-link prev"
                          href="/ctrovalidate/2.0/guide/spa-dynamic-fields.html"
                          data-v-e257564d
                          ><!--[--><span class="desc" data-v-e257564d
                            >Previous page</span
                          ><span class="title" data-v-e257564d
                            >Working with SPAs</span
                          ><!--]--></a
                        >
                      </div>
                      <div class="pager" data-v-e257564d><!----></div>
                    </nav>
                  </footer>
                  <!--[--><!--]-->
                </div>
              </div>
            </div>
            <!--[--><!--]-->
          </div>
        </div>
        <footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad>
          <div class="container" data-v-e315a0ad>
            <p class="message" data-v-e315a0ad>
              Released under the MIT License.
            </p>
            <p class="copyright" data-v-e315a0ad>
              Copyright © 2025-present Ctrotech
            </p>
          </div>
        </footer>
        <!--[--><!--]-->
      </div>
    </div>
    <script>
      window.__VP_HASH_MAP__ = JSON.parse(
        '{"2.0_api_methods.md":"DIctXlJQ","2.0_api_static-methods.md":"BlHB0pn4","2.0_api_types.md":"Chwvs_OB","2.0_guide_conditional-validation.md":"7Uiq1g1m","2.0_guide_configuration.md":"BKbZgipg","2.0_guide_custom-rules.md":"B0tejnan","2.0_guide_getting-started.md":"DztjjxM0","2.0_guide_introduction.md":"vtAJSEe2","2.0_guide_rules.md":"DM1f0cH3","2.0_guide_spa-dynamic-fields.md":"CuhHnzgO","2.0_index.md":"Bi_KaF0m","2.0_integrations_tailwindcss.md":"TFduy-Gy","2.0_project_releases.md":"ByAv_R2U"}'
      );
      window.__VP_SITE_DATA__ = JSON.parse(
        '{"lang":"en-US","dir":"ltr","title":"Ctrovalidate","description":"A lightweight, powerful, and zero-dependency JavaScript library for client-side form validation.","base":"/ctrovalidate/","head":[],"router":{"prefetchLinks":true},"appearance":true,"themeConfig":{"logo":"/logo.svg","nav":[{"text":"Guide","link":"/2.0/guide/getting-started"},{"text":"API","link":"/2.0/api/methods"},{"text":"v2.0.0 (Latest)","items":[{"text":"Changelog","link":"https://github.com/ctrotech-tutor/ctrovalidate/blob/main/CHANGELOG.md"},{"text":"Releases","link":"https://github.com/ctrotech-tutor/ctrovalidate/releases"}]}],"sidebar":{"/2.0/guide/":[{"text":"Introduction","items":[{"text":"What is Ctrovalidate?","link":"/2.0/guide/introduction"},{"text":"Getting Started","link":"/2.0/guide/getting-started"}]},{"text":"Core Concepts","items":[{"text":"Configuration Options","link":"/2.0/guide/configuration"},{"text":"Built-in Rules","link":"/2.0/guide/rules"},{"text":"Conditional Validation","link":"/2.0/guide/conditional-validation"},{"text":"Working with SPAs","link":"/2.0/guide/spa-dynamic-fields"}]},{"text":"Advanced","items":[{"text":"Creating Custom Rules","link":"/2.0/guide/custom-rules"}]}],"/2.0/api/":[{"text":"API Reference","items":[{"text":"Public Methods","link":"/2.0/api/methods"},{"text":"Static Methods","link":"/2.0/api/static-methods"},{"text":"TypeScript Types","link":"/2.0/api/types"}]}],"/2.0/project/":[{"text":"Project Info","items":[{"text":"Release Policy","link":"/2.0/project/releases"}]}]},"socialLinks":[{"icon":"github","link":"https://github.com/ctrotech-tutor/ctrovalidate"}],"footer":{"message":"Released under the MIT License.","copyright":"Copyright © 2025-present Ctrotech"}},"locales":{},"scrollOffset":134,"cleanUrls":false}'
      );
    </script>
  </body>
</html>
