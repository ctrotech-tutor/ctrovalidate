import {
  _ as i,
  c as a,
  o as e,
  ag as n,
} from './chunks/framework.COADSRRV.js';
const c = JSON.parse(
    '{"title":"SPAs & Dynamic Fields","description":"","frontmatter":{},"headers":[],"relativePath":"2.0/guide/spa-dynamic-fields.md","filePath":"2.0/guide/spa-dynamic-fields.md"}'
  ),
  t = { name: '2.0/guide/spa-dynamic-fields.md' };
function l(h, s, p, d, r, k) {
  return (
    e(),
    a('div', null, [
      ...(s[0] ||
        (s[0] = [
          n(
            `<h1 id="spas-dynamic-fields" tabindex="-1">SPAs &amp; Dynamic Fields <a class="header-anchor" href="#spas-dynamic-fields" aria-label="Permalink to &quot;SPAs &amp; Dynamic Fields&quot;">â€‹</a></h1><p>Modern web applications (React, Vue, Svelte, etc.) frequently add or remove form fields from the DOM at runtime. Ctrovalidate provides a powerful API to keep your validation instance in sync with these changes.</p><h2 id="ðŸ”„-managing-field-lifecycle" tabindex="-1">ðŸ”„ Managing Field Lifecycle <a class="header-anchor" href="#ðŸ”„-managing-field-lifecycle" aria-label="Permalink to &quot;ðŸ”„ Managing Field Lifecycle&quot;">â€‹</a></h2><p>When you initialize a <code>Ctrovalidate</code> instance, it performs a &quot;discovery&quot; pass of the specified form. For any fields added later, you must manually register them.</p><h3 id="addfield-element" tabindex="-1"><code>addField(element)</code> <a class="header-anchor" href="#addfield-element" aria-label="Permalink to &quot;\`addField(element)\`&quot;">â€‹</a></h3><p>Tells the validator to start tracking a new DOM element.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> newField</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">newField.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dynamic_input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">newField.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data-ctrovalidate-rules&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;required&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Add to DOM</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#dynamic-form&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newField);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Register with Ctrovalidate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">validator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addField</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newField);</span></span></code></pre></div><h3 id="removefield-element" tabindex="-1"><code>removeField(element)</code> <a class="header-anchor" href="#removefield-element" aria-label="Permalink to &quot;\`removeField(element)\`&quot;">â€‹</a></h3><p>Tells the validator to stop tracking an element and cleans up all internal listeners and caches.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fieldToRemove</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[name=&quot;expired_field&quot;]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Clean up first</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">validator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeField</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fieldToRemove);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Then remove from DOM</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fieldToRemove.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><hr><h2 id="ðŸ§©-framework-patterns" tabindex="-1">ðŸ§© Framework Patterns <a class="header-anchor" href="#ðŸ§©-framework-patterns" aria-label="Permalink to &quot;ðŸ§© Framework Patterns&quot;">â€‹</a></h2><h3 id="vue-react-lifecycle-hooks" tabindex="-1">Vue / React (Lifecycle Hooks) <a class="header-anchor" href="#vue-react-lifecycle-hooks" aria-label="Permalink to &quot;Vue / React (Lifecycle Hooks)&quot;">â€‹</a></h3><p>In component-based frameworks, use the lifecycle hooks to manage registration.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// React Example using useEffect</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fieldRef.current;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  validator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addField</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(field);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    validator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeField</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(field);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, []);</span></span></code></pre></div><h3 id="htmx-alpine-js-auto-discovery" tabindex="-1">HTMX / Alpine.js (Auto-Discovery) <a class="header-anchor" href="#htmx-alpine-js-auto-discovery" aria-label="Permalink to &quot;HTMX / Alpine.js (Auto-Discovery)&quot;">â€‹</a></h3><p>If you are using tools like HTMX to swap fragments, you can re-run field discovery or specifically add the new fragments.</p><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>Calling <code>addField</code> on an already tracked field is safe; Ctrovalidate will simply update internal metadata if rules have changed.</p></div><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">â€‹</a></h2><ul><li><strong><a href="./custom-rules.html">Custom Rules</a></strong> â€” Learn how to build complex logic for dynamic apps.</li><li><strong><a href="./../api/methods.html">API Methods</a></strong> â€” Detailed technical reference for all instance methods.</li></ul>`,
            20
          ),
        ])),
    ])
  );
}
const E = i(t, [['render', l]]);
export { c as __pageData, E as default };
